<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>set_unitList — set_unitList • EML</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">EML</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/EML">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>set_unitList</h1>
    </div>

    
    <p>Define custom units, including new unitTypes.  Note that it is not necessary to define
most common units, see get_unitList to display standard units or parse other custom unitList files.</p>
    

    <pre><span class='fu'>set_unitList</span>(<span class='no'>units</span>, <span class='kw'>unitTypes</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>as_metadata</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>units</dt>
      <dd>a data.frame describing the custom units, see details.</dd>
      <dt>unitTypes</dt>
      <dd>optional, a data.frame defining any additional unitTypes not already defined</dd>
      <dt>as_metadata</dt>
      <dd>logical, default FALSE. If true, returns an `additionalMetadata` element, see below.</dd>
    </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>By default the function returns an S4 unitList object, like other set_ methods. If as_metadata is set to TRUE,
function returns an `additionalMetadata` element, which can be added directly to an eml object (see examples),
which is the usual location for declaring additional units.</p>
    <p>Note that EML permits a metadata element to contain arbitrary XML, including but
not limited to unitList XML for custom units (which is really part of the stmml unit vocabulary used by EML, but
part of a more general standard.) This means that once converted to a metadata element, the unit list is coerced
into stmml XML and can no longer be subset or modified in the same way.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The units data.frame must have the following columns:
 - id: the referenced name of unit (singular). e.g. &#39;meter&#39;, &#39;second&#39;
 - unitType: the base type of unit, e.g. &#39;length&#39;.  If not from a standard type, a new unitType must be provided
 - multiplierToSI: the multiplicative constant to convert to the SI unit.
 - parentSI: the name of the parent SI unit, e.g. second.
 - description: a text string describing the unit of measure.
 The following columns are optional:
 - name: usually the same as the id of the unit, e.g. second
 - abbreviation: common abbreviation, e.g. s
 - constantToSI: an additive constant to convert to the equivalent SI unit. If not given, default is &quot;0&quot;</p>
    <p>In practice, researchers may save these tables of custom units they frequently use in an external .csv
or other format and read them in to R for ready re-use.</p>
    <p>The unitType table must have the following columns:
 - id: the name by which the unitType is referred to.
 - name: optional, default is same as the id
 - dimension: name of a base dimension of the unit
 - power: the power to which the dimension is raised (NA implies power of 1)</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
 <span class='co'>## create the "unitType" table for custom unit</span>
 <span class='no'>id</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"speed"</span>, <span class='st'>"speed"</span>, <span class='st'>"acceleration"</span>, <span class='st'>"acceleration"</span>, <span class='st'>"frequency"</span>)
 <span class='no'>dimension</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"length"</span>, <span class='st'>"time"</span>, <span class='st'>"length"</span>, <span class='st'>"time"</span>, <span class='st'>"time"</span>)
 <span class='no'>power</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>NA</span>, <span class='st'>"-1"</span>, <span class='fl'>NA</span>, <span class='st'>"-2"</span>, <span class='st'>"-1"</span>)
 <span class='no'>unitTypes</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>id</span> <span class='kw'>=</span> <span class='no'>id</span>, <span class='kw'>dimension</span> <span class='kw'>=</span> <span class='no'>dimension</span>,
                         <span class='kw'>power</span> <span class='kw'>=</span> <span class='no'>power</span>, <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

 <span class='co'>## Create the units table</span>
 <span class='no'>id</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"minute"</span>, <span class='st'>"centimeter"</span>)
 <span class='no'>unitType</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"time"</span>, <span class='st'>"length"</span>)
 <span class='no'>parentSI</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"second"</span>, <span class='st'>"meter"</span>)
 <span class='no'>multiplierToSI</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"0.0166"</span>, <span class='st'>"1"</span>)
 <span class='no'>description</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"one minute is 60 seconds"</span>, <span class='st'>"centimeter is a 100th of a meter"</span>)
 <span class='no'>units</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(<span class='kw'>id</span> <span class='kw'>=</span> <span class='no'>id</span>, <span class='kw'>unitType</span> <span class='kw'>=</span> <span class='no'>unitType</span>, <span class='kw'>parentSI</span> <span class='kw'>=</span> <span class='no'>parentSI</span>,
                    <span class='kw'>multiplierToSI</span> <span class='kw'>=</span> <span class='no'>multiplierToSI</span>, <span class='kw'>description</span> <span class='kw'>=</span> <span class='no'>description</span>,
                    <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

 <span class='no'>unitList</span> <span class='kw'>&lt;-</span> <span class='fu'>set_unitList</span>(<span class='no'>units</span>, <span class='no'>unitTypes</span>)

 <span class='co'>## reverse operation also works:</span>
 <span class='fu'><a href='get_unitList.html'>get_unitList</a></span>(<span class='no'>unitList</span>)</div><div class='output co'>#&gt; $units
#&gt;           id       name unitType parentSI multiplierToSI constantToSI
#&gt; 1     minute     minute     time   second         0.0166         &lt;NA&gt;
#&gt; 2 centimeter centimeter   length    meter              1         &lt;NA&gt;
#&gt;   abbreviation                      description
#&gt; 1         &lt;NA&gt;         one minute is 60 seconds
#&gt; 2         &lt;NA&gt; centimeter is a 100th of a meter
#&gt; 
#&gt; $unitTypes
#&gt;             id         name dimension power
#&gt; 1        speed        speed    length  &lt;NA&gt;
#&gt; 2        speed        speed      time    -1
#&gt; 3 acceleration acceleration    length  &lt;NA&gt;
#&gt; 4 acceleration acceleration      time    -2
#&gt; 5    frequency    frequency      time    -1
#&gt; </div><div class='input'>
 <span class='co'>## To add this to an EML document:</span>
 <span class='fu'>new</span>(<span class='st'>"eml"</span>, <span class='kw'>additionalMetadata</span> <span class='kw'>=</span> <span class='fu'>as</span>(<span class='no'>unitList</span>, <span class='st'>"additionalMetadata"</span>))</div><div class='output co'>#&gt; &lt;eml&gt;
#&gt;   &lt;additionalMetadata&gt;
#&gt;     &lt;metadata&gt;
#&gt;       &lt;stmml:unitList xmlns:stmml=&quot;http://www.xml-cml.org/schema/stmml_1.1&quot;&gt;
#&gt;         &lt;unitType id=&quot;speed&quot; name=&quot;speed&quot;&gt;
#&gt;           &lt;dimension name=&quot;length&quot;/&gt;
#&gt;           &lt;dimension name=&quot;time&quot; power=&quot;-1&quot;/&gt;
#&gt;         &lt;/unitType&gt;
#&gt;         &lt;unitType id=&quot;acceleration&quot; name=&quot;acceleration&quot;&gt;
#&gt;           &lt;dimension name=&quot;length&quot;/&gt;
#&gt;           &lt;dimension name=&quot;time&quot; power=&quot;-2&quot;/&gt;
#&gt;         &lt;/unitType&gt;
#&gt;         &lt;unitType id=&quot;frequency&quot; name=&quot;frequency&quot;&gt;
#&gt;           &lt;dimension name=&quot;time&quot; power=&quot;-1&quot;/&gt;
#&gt;         &lt;/unitType&gt;
#&gt;         &lt;unit id=&quot;minute&quot; name=&quot;minute&quot; parentSI=&quot;second&quot; unitType=&quot;time&quot; multiplierToSI=&quot;0.0166&quot;&gt;
#&gt;           &lt;description&gt;one minute is 60 seconds&lt;/description&gt;
#&gt;         &lt;/unit&gt;
#&gt;         &lt;unit id=&quot;centimeter&quot; name=&quot;centimeter&quot; parentSI=&quot;meter&quot; unitType=&quot;length&quot; multiplierToSI=&quot;1&quot;&gt;
#&gt;           &lt;description&gt;centimeter is a 100th of a meter&lt;/description&gt;
#&gt;         &lt;/unit&gt;
#&gt;       &lt;/stmml:unitList&gt;
#&gt;     &lt;/metadata&gt;
#&gt;   &lt;/additionalMetadata&gt;
#&gt; &lt;/eml&gt; </div><div class='input'>
 <span class='co'>## Equivalently:</span>
 <span class='no'>additionalMetadata</span> <span class='kw'>&lt;-</span> <span class='fu'>set_unitList</span>(<span class='no'>units</span>, <span class='no'>unitTypes</span>, <span class='kw'>as_metadata</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
 <span class='fu'>new</span>(<span class='st'>"eml"</span>, <span class='kw'>additionalMetadata</span> <span class='kw'>=</span> <span class='no'>additionalMetadata</span>)</div><div class='output co'>#&gt; &lt;eml&gt;
#&gt;   &lt;additionalMetadata&gt;
#&gt;     &lt;metadata&gt;
#&gt;       &lt;stmml:unitList xmlns:stmml=&quot;http://www.xml-cml.org/schema/stmml_1.1&quot;&gt;
#&gt;         &lt;unitType id=&quot;speed&quot; name=&quot;speed&quot;&gt;
#&gt;           &lt;dimension name=&quot;length&quot;/&gt;
#&gt;           &lt;dimension name=&quot;time&quot; power=&quot;-1&quot;/&gt;
#&gt;         &lt;/unitType&gt;
#&gt;         &lt;unitType id=&quot;acceleration&quot; name=&quot;acceleration&quot;&gt;
#&gt;           &lt;dimension name=&quot;length&quot;/&gt;
#&gt;           &lt;dimension name=&quot;time&quot; power=&quot;-2&quot;/&gt;
#&gt;         &lt;/unitType&gt;
#&gt;         &lt;unitType id=&quot;frequency&quot; name=&quot;frequency&quot;&gt;
#&gt;           &lt;dimension name=&quot;time&quot; power=&quot;-1&quot;/&gt;
#&gt;         &lt;/unitType&gt;
#&gt;         &lt;unit id=&quot;minute&quot; name=&quot;minute&quot; parentSI=&quot;second&quot; unitType=&quot;time&quot; multiplierToSI=&quot;0.0166&quot;&gt;
#&gt;           &lt;description&gt;one minute is 60 seconds&lt;/description&gt;
#&gt;         &lt;/unit&gt;
#&gt;         &lt;unit id=&quot;centimeter&quot; name=&quot;centimeter&quot; parentSI=&quot;meter&quot; unitType=&quot;length&quot; multiplierToSI=&quot;1&quot;&gt;
#&gt;           &lt;description&gt;centimeter is a 100th of a meter&lt;/description&gt;
#&gt;         &lt;/unit&gt;
#&gt;       &lt;/stmml:unitList&gt;
#&gt;     &lt;/metadata&gt;
#&gt;   &lt;/additionalMetadata&gt;
#&gt; &lt;/eml&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Carl Boettiger, Matthew B. Jones.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
